/* ============================================
   NOTCH - Container chính (giữ nguyên thiết kế gốc)
   ============================================ */

.notch {
    transition: all 200ms ease-out;
    background-color: #000;
}

/* Trạng thái Nhỏ gọn */
.notch.compact-state {
    border-radius: 20px;
    background-color: #000;
}

/* Trạng thái Mở rộng */
.notch.expanded-state {
    border-radius: 26px;
    background-color: #000;
}

/* Hiệu ứng khi hover (subtle) */
.notch:hover {
    background-color: #0a0a0a;
}

/* ============================================
   BATTERY VIEW - Hiển thị pin
   ============================================ */

.battery-view {
    spacing: 0;
    padding: 0 10px;
}

/* Container expanded của battery */
.battery-expanded {
    spacing: 12px;
    padding: 10px;
}

/* ============================================
   BATTERY STATUS - Màu sắc theo trạng thái
   ============================================ */

/* Text chung */
.notch-content {
    color: white;
    font-weight: bold;
}

/* Pin yếu - Đỏ nhấp nháy */
.battery-low {
    color: #ff0000 !important;
    animation: blink-warning 1s ease-in-out infinite;
}

@keyframes blink-warning {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }
}

/* Đang sạc - Xanh lá */
.battery-charging {
    color: #00ff00 !important;
}

/* Pin đầy */
.battery-full {
    color: #00ff00 !important;
}

/* ============================================
   CHARGING EFFECTS - Hiệu ứng khi sạc
   ============================================ */

/* Thêm glow effect khi đang sạc (optional) */
.notch.charging {
    border-radius: 20px;
}

/* Pulse animation cho icon khi sạc */
.notch.expanded-state .battery-expanded StLabel:first-child {
    animation: pulse-charging 2s ease-in-out infinite;
}

@keyframes pulse-charging {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.7;
        transform: scale(1.1);
    }
}

/* Icon glow effect */
.icon-glow {
    filter: drop-shadow(0 0 10px currentColor);
}

/* ============================================
   TEXT STYLING
   ============================================ */

.text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* ============================================
   MEDIA VIEW - Hiển thị media player
   ============================================ */

/* Media compact container - padding giống battery */
.media-compact-container {
    spacing: 0;
    padding: 0 10px;
}

/* Compact thumbnail */
.media-thumbnail-wrapper {
    min-width: 24px;
    min-height: 24px;
    border-radius: 99px;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.1);
}

.media-thumbnail {
    color: rgba(255, 255, 255, 0.8);
}

/* Audio icon */
.media-audio-icon {
    padding-left: 16px;
    color: rgba(255, 255, 255, 0.7);
}

/* Expanded album art (old - kept for compatibility) */
.media-expanded-art-wrapper {
    min-width: 120px;
    min-height: 120px;
    border-radius: 16px;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.1);
    background-size: cover;
    background-position: center;
}

.media-expanded-art {
    color: rgba(255, 255, 255, 0.8);
}

/* Expanded thumbnail (smaller, for top tier) */
.media-expanded-thumbnail-wrapper {
    min-width: 48px;
    min-height: 48px;
    border-radius: 8px;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.1);
    background-size: cover;
    background-position: center;
}

/* Media controls box */
.media-controls-box {
    spacing: 15px;
    padding: 5px;
}

.media-control-button {
    min-width: 40px;
    min-height: 40px;
    border-radius: 20px;
    background-color: rgba(255, 255, 255, 0.1);
    transition: all 200ms ease;
}

.share-audio-button {
    min-width: 40px;
    min-height: 40px;
    border-radius: 20px;
    background-color: rgba(255, 255, 255, 0.1);
    transition: all 200ms ease;
}

.share-audio-button:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

.share-audio-button:active {
    background-color: rgba(255, 255, 255, 0.3);
    transform: scale(0.95);
}

.share-audio-icon {
    color: white;
    icon-size: 20px;
}

.media-control-button:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

.media-control-button:active {
    background-color: rgba(255, 255, 255, 0.3);
    transform: scale(0.95);
}

.media-control-icon {
    color: white;
    icon-size: 20px;
}

/* Play/Pause button - larger and more prominent */
.media-control-button:nth-child(2) {
    min-width: 48px;
    min-height: 48px;
    border-radius: 24px;
    background-color: rgba(255, 255, 255, 0.15);
}

.media-control-button:nth-child(2) .media-control-icon {
    icon-size: 28px;
}

.media-control-button:nth-child(2):hover {
    background-color: rgba(255, 255, 255, 0.25);
}

/* Title wrapper */
.media-title-wrapper {
    padding: 0;
    x-expand: true;
}

.media-title-label {
    color: white;
    font-size: 14px;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    text-align: left;
    ellipsize: true;
}

.media-artist-label {
    color: rgba(255, 255, 255, 0.7);
    font-size: 12px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    text-align: left;
    ellipsize: true;
}


/* ============================================
   SMOOTH TRANSITIONS
   ============================================ */

/* Chỉ áp dụng transition cho media view, không ảnh hưởng đến battery */
.media-thumbnail-wrapper,
.media-thumbnail,
.media-audio-icon,
.media-expanded-art-wrapper,
.media-expanded-art,
.media-expanded-thumbnail-wrapper,
.media-control-button,
.media-control-icon,
.media-title-label,
.media-artist-label {
    transition: color 150ms ease, opacity 150ms ease;
}

/* ============================================
   SECONDARY NOTCH STYLES
   ============================================ */

.notch-secondary {
    transition: all 200ms ease-out;
    border-radius: 99px;
    background-color: #000;
}

/* Minimal View Styles */
.battery-minimal-container,
.media-minimal-container {
    padding: 0;
    margin: 0;
}

.battery-icon-secondary,
.media-thumbnail-secondary {
    icon-size: 24px;
    margin: 0;
    padding: 0;
}

.media-thumbnail-wrapper-secondary {
    border-radius: 99px;
    overflow: hidden;
    background-color: rgba(255, 255, 255, 0.1);
    width: 24px;
    height: 24px;
    margin: 0 auto;
    /* Center horizontally */
}

/* Restore padding for normal compact view (when NOT in secondary) */
/* Removed as we reverted to inline styles in extension.js */